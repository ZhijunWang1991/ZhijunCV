blogdown:::serve_site()
setwd("C:/blogdown/butterflydata.netify.com")
setwd(C:/blogdown/butterflydata.netify.com)
setwd('C:/blogdown/butterflydata.netify.com/')
getwd()
setwd("C:/blogdown/butterflydata.netlify.com")
blogdown:::serve_site()
install.packages("xaringan")
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
#load library
library(mixOmics)
library(ggplot2)
library(dplyr)
library(tidyverse)
#Set work space
basefolder <- 'C:/Users/wang298/OneDrive - WageningenUR/Rworkspace/'
setwd(paste0(basefolder,file.path('colour')))
#Load files
peel_1.data <- read.csv('peel_colour_con_country.csv')
peel_2.data <- read.csv('peel_colour_org_country.csv')
peel_3.data <- read.csv('peel_colour_production.csv')
pulp_1.data <- read.csv('pulp_colour_con_country.csv')
pulp_2.data <- read.csv('pulp_colour_org_country.csv')
pulp_3.data <- read.csv('pulp_colour_production.csv')
#Select groups
peel_1 <- peel_1.data[,6:8]
peel_2 <- peel_2.data[,6:8]
peel_3 <- peel_3.data[,6:8]
pulp_1 <- pulp_1.data[,6:8]
pulp_2 <- pulp_2.data[,6:8]
pulp_3 <- pulp_3.data[,6:8]
#Run PCA
peel_1.pca <- pca(peel_1,ncomp = 3, center = TRUE, scale = T)
peel_2.pca <- pca(peel_2,ncomp = 3, center = TRUE, scale = T)
peel_3.pca <- pca(peel_3,ncomp = 3, center = TRUE, scale = T)
pulp_1.pca <- pca(pulp_1,ncomp = 3, center = TRUE, scale = T)
pulp_2.pca <- pca(pulp_2,ncomp = 3, center = TRUE, scale = T)
pulp_3.pca <- pca(pulp_3,ncomp = 3, center = TRUE, scale = T)
#Run PLSDA
plsda.peel_1 <- plsda(peel_1, peel_1.data$Country, ncomp = 3)
plsda.peel_2 <- plsda(peel_2, peel_2.data$Country, ncomp = 3)
plsda.peel_3 <- plsda(peel_3, peel_3.data$Production, ncomp = 3)
plsda.pulp_1 <- plsda(pulp_1, pulp_1.data$Country, ncomp = 3)
plsda.pulp_2 <- plsda(pulp_2, pulp_2.data$Country, ncomp = 3)
plsda.pulp_3 <- plsda(pulp_3, pulp_3.data$Production, ncomp = 3)
#Plot PCA
g1 <- plotIndiv(peel_1.pca, ind.names = FALSE,
ellipse = TRUE, group = peel_1.data$Country,
legend = TRUE, title = 'PCA plot of banana peel from convational farms',
legend.title = 'Country')
g2 <- plotIndiv(peel_2.pca, ind.names = FALSE,
ellipse = TRUE, group = peel_2.data$Country,
legend = TRUE, title = 'PCA plot of banana peel from organic farms',
legend.title = 'Country')
g3 <- plotIndiv(peel_3.pca, ind.names = FALSE,
ellipse = TRUE, group = peel_3.data$Production,
legend = TRUE, title = 'PCA plot of banana peel from different production system',
legend.title = 'Production')
g4 <- plotIndiv(pulp_1.pca, ind.names = FALSE,
ellipse = TRUE, group = pulp_1.data$Country,
legend = TRUE, title = 'PCA plot of banana pulp from convational farms',
legend.title = 'Country')
g5 <- plotIndiv(pulp_2.pca, ind.names = FALSE,
ellipse = TRUE, group = pulp_2.data$Country,
legend = TRUE, title = 'PCA plot of banana pulp from organic farms',
legend.title = 'Country')
g6 <- plotIndiv(pulp_3.pca, ind.names = FALSE,
ellipse = TRUE, group = pulp_3.data$Production,
legend = TRUE, title = 'PCA plot of banana pulp from different production system',
legend.title = 'Production')
#Plot PLSDA
g7 <- plotIndiv(plsda.peel_1, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = peel_1.data$Country,
legend = TRUE, title = 'PLS-DA of banana peel from convational farms',
legend.title = 'Country')
g8 <- plotIndiv(plsda.peel_2, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = peel_2.data$Country,
legend = TRUE, title = 'PLS-DA of banana peel from organic farms',
legend.title = 'Country')
g9 <- plotIndiv(plsda.peel_3, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = peel_3.data$Production,
legend = TRUE, title = 'PLS-DA of banana peel from different production system',
legend.title = 'Production')
g10 <- plotIndiv(plsda.pulp_1, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = pulp_1.data$Country,
legend = TRUE, title = 'PLS-DA of banana pulp from convational farms',
legend.title = 'Country')
g11 <- plotIndiv(plsda.pulp_2, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = pulp_2.data$Country,
legend = TRUE, title = 'PLS-DA of banana pulp from organic farms',
legend.title = 'Country')
g12 <- plotIndiv(plsda.pulp_3, ind.names = FALSE,
ellipse = TRUE, star = TRUE, group = pulp_3.data$Production,
legend = TRUE, title = 'PLS-DA of banana pulp from different production system',
legend.title = 'Production')
#Save images
setwd(paste0(basefolder,file.path('PCA_result')))
save.image('pca_plsda.RData')
ggsave("g1.tiff", plot = g1, dpi=300)
setwd("C:/blogdown/butterflydata.netify.com")
setwd("C:/blogdown/butterflydata.netlify.com")
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
setwd("C:/blogdown/butter")
blogdown:::serve_site()
