setwd('C:/blogdown/butter')
blogdown:::new_post_addin()
setwd('C:/blogdown/butter/content')
blogdown:::new_post_addin()
blogdown:::new_post_addin()
setwd("C:blogdown/butter/content")
blogdown:::new_post_addin()
setwd("C:blogdown/butter/content/cn")
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
data(iris)
data=iris[,-5]
labels=iris[,5]
pp=knn.double.cv(data,labels)
print(pp$Q2Y)
table(pp$Ypred,labels)
#
# data(MetRef)
# u=MetRef$data;
# u=u[,-which(colSums(u)==0)]
# u=normalization(u)$newXtrain
# u=scaling(u)$newXtrain
# pp=knn.double.cv(u,as.factor(MetRef$donor))
# print(pp$Q2Y)
# table(pp$Ypred,MetRef$donor)
install.packages("knn.double.cv")
install.packages("KODAMA")
install.packages("rgl")
install.packages("knn.cv")
install.packages("class")
library(knn.cv)
install.packages("knn.cv")
library(knn)
library(class)
train <- rbind(iris3[,,1], iris3[,,2], iris3[,,3])
cl <- factor(c(rep("s",50), rep("c",50), rep("v",50)))
knn.cv(train, cl, k = 3, prob = TRUE)
attributes(.Last.value)
knn.cv(train, cl, k = 3, prob = TRUE)
q <- knn.cv(train, cl, k = 3, prob = TRUE)
print(q)
View(q)
#library
library(Hmisc)
library(corrplot)
library(ggplot2)
#Set workspace
setwd('C:/Users/wang298/OneDrive - WageningenUR/Banana/paper2/data_analysis/Geo/')
###Read in the data
growing<- as.matrix(read.csv("Growingcondition.csv", row.names=1, header=T))
pulpHSI <- as.matrix(read.csv("pulpHSI.csv", row.names=1, header=T))
peelHSI <- as.matrix(read.csv("peelHSI.csv", row.names=1, header=T))
pulpchemicals <- as.matrix(read.csv("pulpchemicals.csv", row.names=1, header=T))
peelchemicals <- as.matrix(read.csv("peelchemicals.csv", row.names=1, header=T))
###Get correlation
t_pulpHSI <- t(pulpHSI)
t_peelHSI <- t(peelHSI)
t_pulpchemicals <- t(pulpchemicals)
t_peelchemicals <- t(peelchemicals)
t_growing <- t(growing)
cor_table1 <- cor(t_growing,t_pulpHSI)
sig1 <- rcorr(t_growing,t_pulpHSI,type = "pearson")
M1 <- corrplot(cor_table1,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig1$P[1:3,4:13], insig = "blank",sig.level = 0.05)
cor_table2 <- cor(t_growing,t_peelHSI)
sig2 <- rcorr(t_growing,t_peelHSI,type = "pearson")
M2 <- corrplot(cor_table2,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig2$P[1:3,4:14], insig = "blank",sig.level = 0.05)
cor_table3 <- cor(t_growing,t_pulpchemicals)
sig3 <- rcorr(t_growing,t_pulpchemicals,type = "pearson")
M3 <- corrplot(cor_table3,method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig3$P[1:3,4:9], insig = "blank",sig.level = 0.05)
cor_table4 <- cor(t_growing,t_peelchemicals)
sig4 <- rcorr(t_growing,t_peelchemicals,type = "pearson")
M4 <- corrplot(cor_table4, method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig4$P[1:3,4:9], insig = "blank",sig.level = 0.05)
##Plot HSI and chemicals
cor_table5 <- cor(t_pulpchemicals,t_pulpHSI)
sig5 <- rcorr(t_pulpchemicals,t_pulpHSI,type = "pearson")
M5 <- corrplot(cor_table5,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig5$P[1:6,7:16], insig = "blank",sig.level = 0.05)
cor_table6 <- cor(t_peelchemicals,t_peelHSI)
sig6 <- rcorr(t_peelchemicals,t_peelHSI,type = "pearson")
M6 <- corrplot(cor_table6,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig6$P[1:6,7:17], insig = "blank",sig.level = 0.05)
M5
#library
library(Hmisc)
library(corrplot)
library(ggplot2)
#Set workspace
setwd('C:/Users/wang298/OneDrive - WageningenUR/Banana/paper2/data_analysis/Geo/')
###Read in the data
growing<- as.matrix(read.csv("Growingcondition0706.csv", row.names=1, header=T))
pulpHSI <- as.matrix(read.csv("pulpHSI.csv", row.names=1, header=T))
peelHSI <- as.matrix(read.csv("peelHSI.csv", row.names=1, header=T))
pulpchemicals <- as.matrix(read.csv("pulpchemicals.csv", row.names=1, header=T))
peelchemicals <- as.matrix(read.csv("peelchemicals.csv", row.names=1, header=T))
###Get correlation
t_pulpHSI <- t(pulpHSI)
t_peelHSI <- t(peelHSI)
t_pulpchemicals <- t(pulpchemicals)
t_peelchemicals <- t(peelchemicals)
t_growing <- t(growing)
cor_table1 <- cor(t_growing,t_pulpHSI)
sig1 <- rcorr(t_growing,t_pulpHSI,type = "pearson")
M1 <- corrplot(cor_table1,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig1$P[1:3,4:13], insig = "blank",sig.level = 0.05)
cor_table2 <- cor(t_growing,t_peelHSI)
sig2 <- rcorr(t_growing,t_peelHSI,type = "pearson")
M2 <- corrplot(cor_table2,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig2$P[1:3,4:14], insig = "blank",sig.level = 0.05)
cor_table3 <- cor(t_growing,t_pulpchemicals)
sig3 <- rcorr(t_growing,t_pulpchemicals,type = "pearson")
M3 <- corrplot(cor_table3,method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig3$P[1:3,4:9], insig = "blank",sig.level = 0.05)
cor_table4 <- cor(t_growing,t_peelchemicals)
sig4 <- rcorr(t_growing,t_peelchemicals,type = "pearson")
M4 <- corrplot(cor_table4, method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig4$P[1:3,4:9], insig = "blank",sig.level = 0.05)
##Plot HSI and chemicals
cor_table5 <- cor(t_pulpchemicals,t_pulpHSI)
sig5 <- rcorr(t_pulpchemicals,t_pulpHSI,type = "pearson")
M5 <- corrplot(cor_table5,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig5$P[1:6,7:16], insig = "blank",sig.level = 0.05)
cor_table6 <- cor(t_peelchemicals,t_peelHSI)
sig6 <- rcorr(t_peelchemicals,t_peelHSI,type = "pearson")
M6 <- corrplot(cor_table6,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig6$P[1:6,7:17], insig = "blank",sig.level = 0.05)
#library
library(Hmisc)
library(corrplot)
library(ggplot2)
#Set workspace
setwd('C:/Users/wang298/OneDrive - WageningenUR/Banana/paper2/data_analysis/Geo/')
###Read in the data
growing<- as.matrix(read.csv("Growingcondition0706.csv", row.names=1, header=T))
pulpHSI <- as.matrix(read.csv("pulpHSI.csv", row.names=1, header=T))
peelHSI <- as.matrix(read.csv("peelHSI.csv", row.names=1, header=T))
pulpchemicals <- as.matrix(read.csv("pulpchemicals.csv", row.names=1, header=T))
peelchemicals <- as.matrix(read.csv("peelchemicals.csv", row.names=1, header=T))
###Get correlation
t_pulpHSI <- t(pulpHSI)
t_peelHSI <- t(peelHSI)
t_pulpchemicals <- t(pulpchemicals)
t_peelchemicals <- t(peelchemicals)
t_growing <- t(growing)
cor_table1 <- cor(t_growing,t_pulpHSI)
sig1 <- rcorr(t_growing,t_pulpHSI,type = "pearson")
M1 <- corrplot(cor_table1,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig1$P[1:3,4:13], insig = "blank",sig.level = 0.05)
cor_table2 <- cor(t_growing,t_peelHSI)
sig2 <- rcorr(t_growing,t_peelHSI,type = "pearson")
M2 <- corrplot(cor_table2,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig2$P[1:3,4:14], insig = "blank",sig.level = 0.05)
cor_table3 <- cor(t_growing,t_pulpchemicals)
sig3 <- rcorr(t_growing,t_pulpchemicals,type = "pearson")
M3 <- corrplot(cor_table3,method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig3$P[1:3,4:9], insig = "blank",sig.level = 0.05)
cor_table4 <- cor(t_growing,t_peelchemicals)
sig4 <- rcorr(t_growing,t_peelchemicals,type = "pearson")
M4 <- corrplot(cor_table4, method = "color",tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig4$P[1:3,4:9], insig = "blank",sig.level = 0.05)
cor_table5 <- cor(t_pulpchemicals,t_pulpHSI)
sig5 <- rcorr(t_pulpchemicals,t_pulpHSI,type = "pearson")
M5 <- corrplot(cor_table5,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig5$P[1:6,7:16], insig = "blank",sig.level = 0.05)
cor_table6 <- cor(t_peelchemicals,t_peelHSI)
sig6 <- rcorr(t_peelchemicals,t_peelHSI,type = "pearson")
M6 <- corrplot(cor_table6,method = "color", tl.col = "black", tl.srt = 45,
addCoef.col = "black",
p.mat = sig6$P[1:6,7:17], insig = "blank",sig.level = 0.05)
M3
##For significant ANOVA
#library
library(multcomp)
##set workspace
basefolder <- 'C:/Users/wang298/OneDrive - WageningenUR/Banana/paper2/data_analysis/'
setwd(paste0(basefolder,file.path('carotene')))
##load dataset
peel <- read.csv("carotene_peel.csv")
View(peel)
##ANOVA
Carotene <- peel$Carotene
Farm <- peel$Farm
aggregate(Carotene, by =list(Farm), FUN=mean)
aggregate(Carotene, by =list(Farm), FUN=sd)
fit <- aov(Carotene ~ Farm)
summary(fit)
TukeyHSD(fit)
par(mar=c(5,4,6,2))
tuk <- glht(fit,linfct= mcp(Farm="Tukey"))
plot(cld(tuk,level=.05),col="lightgrey")
library(dplyr)
table <- group_by(peel, peel$Farm) %>%
summarise(
count = n(),
mean = mean(Carotene, na.rm = TRUE),
sd = sd(Carotene, na.rm = TRUE)
)
View(table)
setwd('C:/blogdown/')
